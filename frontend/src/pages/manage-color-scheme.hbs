{{!-- SPDX-FileCopyrightText: 2025 Magenta ApS <https://magenta.dk> --}}
{{!-- SPDX-License-Identifier: AGPL-3.0-only --}}
{{#> base/containers/html-container title="Manage Color Scheme" script-src="/src/assets/pages/manage-color-scheme/main.js" }}
    {{> base/navbar/navbar_global_settings }}
    {{#> base/containers/main-container }}
        <div class="container py-4 d-flex flex-column" style="height: calc(100vh - 100px)">
            <h1>{% trans "Manage Color Scheme" %}</h1>
            <button id="open-color-modal-btn" class="btn btn-primary mb-3">
                <span class="material-symbols-outlined align-middle">add</span>
                <span class="align-middle">{% trans "Add Color" %}</span>
            </button>
            <div id="admin-required-message" class="alert alert-danger d-none">
                {% trans "You must be an organization admin to view or modify colors." %}
            </div>
            <div id="loading-spinner" class="spinner-border my-3" role="status">
                <span class="visually-hidden">{% trans "Loading..." %}</span>
            </div>
            <div id="colors-container" class="flex-grow-1 overflow-auto">
                <table id="colors-table" class="table table-striped d-none">
                    <thead>
                        <tr>
                            <th>{% trans "Name" %}</th>
                            <th>{% trans "Preview" %}</th>
                            <th>{% trans "Type" %}</th>
                            <th>{% trans "Actions" %}</th>
                        </tr>
                    </thead>
                    <tbody id="colors-table-body">
                    </tbody>
                </table>
            </div>
            <form id="color-form" class="mt-4 d-none">
                <input type="hidden" id="edit-color-id">
                <div class="mb-3">
                    <label for="color-name" class="form-label">{% trans "Name" %}</label>
                    <input type="text" class="form-control" id="color-name" required>
                </div>
                <div class="mb-3">
                    <label for="color-hex" class="form-label">{% trans "Hex Value" %}</label>
                    <input type="color" class="form-control form-control-color" id="color-hex" value="#000000" required>
                </div>
                <div class="mb-3">
                    <label for="color-type" class="form-label">{% trans "Type" %}</label>
                    <select class="form-select" id="color-type">
                        <option value="primary">{% trans "Primary" %}</option>
                        <option value="secondary">{% trans "Secondary" %}</option>
                    </select>
                </div>
                <button type="submit" id="add-color-btn" class="btn btn-primary">{% trans "Add Color" %}</button>
                <button type="button" id="cancel-edit-btn" class="btn btn-secondary d-none">{% trans "Cancel" %}</button>
            </form>
        </div>

        {{> pages/manage-color-scheme/modals/color-modal }}
        {{> pages/manage-color-scheme/modals/delete-modal }}

    {{/base/containers/main-container}}
{{/base/containers/html-container}}