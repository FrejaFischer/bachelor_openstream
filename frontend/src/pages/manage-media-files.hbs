{{!-- SPDX-FileCopyrightText: 2025 Magenta ApS <https://magenta.dk> --}}
{{!-- SPDX-License-Identifier: AGPL-3.0-only --}}
{{#> base/containers/html-container title="Media Management" script-src="/src/assets/pages/manage-media-files/main.js" }}
    {{> base/navbar/navbar_global_settings }}
    {{#> base/containers/main-container }}
        <section class="settings-layout">
            <h1 class="mb-4">{% trans "Media Management" %}</h1>
            <div class="d-flex align-items-center justify-content-between p-2">
                <h3 class="m-0 text-secondary">{% trans "Media Library" %}</h3>
                {{> base/buttons/icon-button id="uploadNewMediaBtn" type="button" variant="primary" icon="upload" text="{% trans 'Upload New Media' %}" }}
            </div>
            <div class="d-flex flex-column gap-3 shadow-xl rounded-4 p-3">
                <div class="d-flex justify-content-between align-items-center">
                    <!-- Filter dropdowns -->
                    <div class="d-flex justify-content-between gap-3">
                        <div id="media-owner-wrapper" class="filter-dropdown d-none"></div>
                        <div id="extension-select-wrapper" class="filter-dropdown"></div>
                        <div id="media-category-wrapper" class="filter-dropdown"></div>
                        <div id="media-tags-wrapper" class="filter-dropdown"></div>
                    </div>
                    <!-- Search Field -->
                    <div class="position-relative w-25">
                        <label for="titleSearchInput" class="search-icon" aria-label="Search for media file">
                            <i class="material-symbols-outlined text-darkest-gray">search</i>
                        </label>
                        {{> base/form/input type="text" id="titleSearchInput" placeholder="Search for media file" extraClass="ps-5"}}
                    </div>
                    {{!-- <input type="text" class="form-control" id="titleSearchInput" placeholder="{% trans 'Title' %}">
                    <label for="titleSearchInput">ðŸ”Ž {% trans "Search by Title" %}</label> --}}
                </div>
                <div class="">
                    <!-- Media Grid -->
                    <div id="mediaGrid" class="d-flex flex-wrap gap-3 checkerboard-light"></div>
                    <!-- Pagination -->
                    <div id="media-pagination-wrapper" class="mt-3"></div>
                </div>
            </div>
        </section>
        {{!-- <div class="container-fluid m-2">
            <div class="row mb-4">
                <div class="col">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h1 class="mb-0">{% trans "Media Management" %}</h1>
                    </div>
                    <!-- Filters Section - All on one line, including tags -->
                    <div class="filters-section border rounded p-3 mb-3 bg-light">
                        <div class="filter-controls d-flex flex-wrap align-items-center gap-2">
                            <!-- Upload Button -->
                            <div>
                                <button id="uploadNewMediaBtn" class="btn btn-primary">
                                    {% trans "Upload New Media" %} <span class="material-symbols-outlined">upload</span>
                                </button>
                            </div>
                            <!-- Search Input -->
                            <div class="flex-grow-1">
                                <div class="form-floating">
                                    <input type="text" class="form-control" id="titleSearchInput" placeholder="{% trans 'Title' %}">
                                    <label for="titleSearchInput">ðŸ”Ž {% trans "Search by Title" %}</label>
                                </div>
                            </div>
                            <!-- Filter dropdowns -->
                            <div id="media-owner-wrapper" class="filter-dropdown d-none"></div>
                            <div id="media-category-wrapper" class="filter-dropdown"></div>
                            <div id="extension-select-wrapper" class="filter-dropdown"></div>
                            <div id="media-tags-wrapper" class="filter-dropdown"></div>
                        </div>
                    </div>
                    <!-- Media Grid -->
                    <div id="mediaGrid" class="d-flex flex-wrap gap-3 checkerboard-light"></div>
                    <!-- Pagination -->
                    <div id="media-pagination-wrapper" class="mt-3"></div>
                </div>
            </div>
        </div> --}}
        <!-- Include the existing modals -->
        {{> base/content-engine/modals/media_submit_modal }}
    {{/base/containers/main-container}}
{{/base/containers/html-container}}